/* fn-graphics.c generated by valac 0.36.6, the Vala compiler
 * generated from fn-graphics.vala, do not modify */

/* Copyright 2017 Juan Pablo Lozano
*
* This file is part of GCleaner.
*
* GCleaner is free software: you can redistribute it
* and/or modify it under the terms of the GNU General Public License as
* published by the Free Software Foundation, either version 3 of the
* License, or (at your option) any later version.
*
* GCleaner is distributed in the hope that it will be
* useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
* Public License for more details.
*
* You should have received a copy of the GNU General Public License along
* with GCleaner. If not, see http://www.gnu.org/licenses/.
*/
/*Importing libraries GTK+ and GLib*/

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>

#define _g_free0(var) (var = (g_free (var), NULL))


extern gchar* processor;

gchar* get_graphics_from_string (const gchar* graphics);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static gboolean string_contains (const gchar* self, const gchar* needle) {
	gboolean result = FALSE;
	const gchar* _tmp0_;
	gchar* _tmp1_;
#line 1403 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, FALSE);
#line 1403 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	g_return_val_if_fail (needle != NULL, FALSE);
#line 1404 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp0_ = needle;
#line 1404 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp1_ = strstr ((gchar*) self, (gchar*) _tmp0_);
#line 1404 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	result = _tmp1_ != NULL;
#line 1404 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	return result;
#line 56 "fn-graphics.c"
}


gchar* get_graphics_from_string (const gchar* graphics) {
	gchar* result = NULL;
	gchar** parts = NULL;
	const gchar* _tmp0_;
	gchar** _tmp1_;
	gchar** _tmp2_;
	gint parts_length1;
	gint _parts_size_;
	gchar* _result_ = NULL;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	gchar** _tmp5_;
	gint _tmp5__length1;
	const gchar* _tmp31_;
	gboolean _tmp32_;
	const gchar* _tmp34_;
	gboolean _tmp35_;
	const gchar* _tmp37_;
	gboolean _tmp38_;
	const gchar* _tmp40_;
	gboolean _tmp41_;
	gchar* _tmp43_;
#line 23 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	g_return_val_if_fail (graphics != NULL, NULL);
#line 28 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp0_ = graphics;
#line 28 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp2_ = _tmp1_ = g_strsplit (_tmp0_, ":", 0);
#line 28 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	parts = _tmp2_;
#line 28 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	parts_length1 = _vala_array_length (_tmp1_);
#line 28 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_parts_size_ = parts_length1;
#line 29 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp3_ = graphics;
#line 29 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp4_ = g_strdup (_tmp3_);
#line 29 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_result_ = _tmp4_;
#line 30 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp5_ = parts;
#line 30 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp5__length1 = parts_length1;
#line 30 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	if (_tmp5__length1 == 3) {
#line 106 "fn-graphics.c"
		gchar** _tmp6_;
		gint _tmp6__length1;
		const gchar* _tmp7_;
		gchar* _tmp8_;
#line 31 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp6_ = parts;
#line 31 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp6__length1 = parts_length1;
#line 31 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp7_ = _tmp6_[2];
#line 31 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp8_ = g_strdup (_tmp7_);
#line 31 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_g_free0 (_result_);
#line 31 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_result_ = _tmp8_;
#line 123 "fn-graphics.c"
	} else {
		gchar** _tmp9_;
		gint _tmp9__length1;
#line 32 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp9_ = parts;
#line 32 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp9__length1 = parts_length1;
#line 32 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		if (_tmp9__length1 > 3) {
#line 133 "fn-graphics.c"
			gchar** _tmp10_;
			gint _tmp10__length1;
			const gchar* _tmp11_;
			gchar* _tmp12_;
#line 33 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp10_ = parts;
#line 33 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp10__length1 = parts_length1;
#line 33 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp11_ = _tmp10_[2];
#line 33 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp12_ = g_strdup (_tmp11_);
#line 33 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_g_free0 (_result_);
#line 33 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_result_ = _tmp12_;
#line 150 "fn-graphics.c"
			{
				gint i = 0;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
				i = 2;
#line 155 "fn-graphics.c"
				{
					gboolean _tmp13_ = FALSE;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
					_tmp13_ = TRUE;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
					while (TRUE) {
#line 162 "fn-graphics.c"
						gint _tmp15_;
						gchar** _tmp16_;
						gint _tmp16__length1;
						const gchar* _tmp17_;
						gchar** _tmp18_;
						gint _tmp18__length1;
						gint _tmp19_;
						const gchar* _tmp20_;
						gchar* _tmp21_;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						if (!_tmp13_) {
#line 174 "fn-graphics.c"
							gint _tmp14_;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
							_tmp14_ = i;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
							i = _tmp14_ + 1;
#line 180 "fn-graphics.c"
						}
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp13_ = FALSE;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp15_ = i;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp16_ = parts;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp16__length1 = parts_length1;
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						if (!(_tmp15_ < _tmp16__length1)) {
#line 34 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
							break;
#line 194 "fn-graphics.c"
						}
#line 35 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp17_ = _result_;
#line 35 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp18_ = parts;
#line 35 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp18__length1 = parts_length1;
#line 35 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp19_ = i;
#line 35 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp20_ = _tmp18_[_tmp19_];
#line 35 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_tmp21_ = g_strconcat (_tmp17_, _tmp20_, NULL);
#line 35 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_g_free0 (_result_);
#line 35 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
						_result_ = _tmp21_;
#line 212 "fn-graphics.c"
					}
				}
			}
		} else {
			gchar** _tmp22_;
			gint _tmp22__length1;
			const gchar* _tmp23_;
			gchar* _tmp24_;
			gchar* _tmp25_;
			gchar** _tmp26_;
			gint _tmp26__length1;
			const gchar* _tmp27_;
			gchar* _tmp28_;
			gchar* _tmp29_;
			gchar* _tmp30_;
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp22_ = parts;
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp22__length1 = parts_length1;
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp23_ = _tmp22_[0];
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp24_ = g_strconcat ("Unknown LSPCI format: ", _tmp23_, NULL);
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp25_ = _tmp24_;
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp26_ = parts;
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp26__length1 = parts_length1;
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp27_ = _tmp26_[1];
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp28_ = g_strconcat (_tmp25_, _tmp27_, NULL);
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp29_ = _tmp28_;
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			g_warning ("fn-graphics.vala:39: %s", _tmp29_);
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_g_free0 (_tmp29_);
#line 39 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_g_free0 (_tmp25_);
#line 40 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_tmp30_ = g_strdup ("Unknown");
#line 40 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_g_free0 (_result_);
#line 40 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
			_result_ = _tmp30_;
#line 260 "fn-graphics.c"
		}
	}
#line 43 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp31_ = processor;
#line 43 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp32_ = string_contains (_tmp31_, "Intel");
#line 43 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	if (_tmp32_) {
#line 269 "fn-graphics.c"
		gchar* _tmp33_;
#line 44 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp33_ = g_strdup ("Video Intel");
#line 44 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		result = _tmp33_;
#line 44 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_g_free0 (_result_);
#line 44 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 44 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		return result;
#line 281 "fn-graphics.c"
	}
#line 47 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp34_ = processor;
#line 47 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp35_ = string_contains (_tmp34_, "NVIDIA");
#line 47 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	if (_tmp35_) {
#line 289 "fn-graphics.c"
		gchar* _tmp36_;
#line 48 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp36_ = g_strdup ("Video NVIDIA");
#line 48 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		result = _tmp36_;
#line 48 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_g_free0 (_result_);
#line 48 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 48 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		return result;
#line 301 "fn-graphics.c"
	}
#line 51 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp37_ = processor;
#line 51 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp38_ = string_contains (_tmp37_, "AMD");
#line 51 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	if (_tmp38_) {
#line 309 "fn-graphics.c"
		gchar* _tmp39_;
#line 52 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp39_ = g_strdup ("Video AMD");
#line 52 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		result = _tmp39_;
#line 52 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_g_free0 (_result_);
#line 52 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 52 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		return result;
#line 321 "fn-graphics.c"
	}
#line 55 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp40_ = processor;
#line 55 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp41_ = string_contains (_tmp40_, "Radeon");
#line 55 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	if (_tmp41_) {
#line 329 "fn-graphics.c"
		gchar* _tmp42_;
#line 56 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_tmp42_ = g_strdup ("Video AMD Radeon");
#line 56 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		result = _tmp42_;
#line 56 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		_g_free0 (_result_);
#line 56 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 56 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
		return result;
#line 341 "fn-graphics.c"
	}
#line 59 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_tmp43_ = g_strdup ("VIDEO DESCONOCIDO");
#line 59 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	result = _tmp43_;
#line 59 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	_g_free0 (_result_);
#line 59 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 59 "/home/jeremy/Documents/gcleaner/src/Library/fn-graphics.vala"
	return result;
#line 353 "fn-graphics.c"
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



